# QRコードスキャナー - 詳細な使用方法

## アプリの起動からスキャンまで

### 1. 初回起動時の設定

アプリを初めて起動すると、以下の権限リクエストが表示されます：

```
"QRCodeScanner"がカメラにアクセスしようとしています
QRコードをスキャンするためにカメラへのアクセスが必要です
```

**「許可」を選択してください。**

カメラへのアクセスを拒否した場合：
1. iOSの「設定」アプリを開く
2. 下にスクロールして「QRCodeScanner」を選択
3. 「カメラ」をタップしてオンにする

### 2. アプリの画面構成

アプリは2つのタブで構成されています：

#### 📋 履歴タブ（左）
- スキャンしたQRコードの一覧を表示
- 新しい順に並んでいます
- タップすると詳細画面が開きます
- 左スワイプで削除できます

#### 📷 スキャンタブ（右）
- カメラビューが表示されます
- 中央にスキャン用のフレームが表示されます
- QRコードを自動的に検出します

## QRコードのスキャン方法

### 基本的なスキャン手順

1. **スキャンタブを開く**
   - 画面下部の📷カメラアイコンをタップ

2. **QRコードを配置**
   - 緑色のフレーム内にQRコードを配置
   - カメラとQRコードの距離は10cm〜50cm程度が最適
   - QRコード全体がフレーム内に収まるようにする

3. **自動読み取り**
   - QRコードが検出されると自動的に読み取りが開始
   - 読み取り成功時にデバイスが振動（バイブレーション）
   - スキャンが一時停止され、結果ダイアログが表示

4. **結果の確認と保存**
   - ダイアログに読み取った内容が表示されます
   - メモを追加したい場合はテキストフィールドに入力
   - 3つの選択肢から選びます：
     - **保存**: QRコードを保存して履歴画面に戻る
     - **再スキャン**: もう一度スキャンを試みる
     - **キャンセル**: 保存せずに履歴画面に戻る

### スキャンのコツ

✅ **良好なスキャン条件**
- 十分な明るさがある場所
- QRコードが平らで歪んでいない
- カメラのレンズがきれい
- QRコードが鮮明に印刷されている

❌ **スキャンが難しい状況**
- 暗い場所
- QRコードが破損している
- 反射が強い
- カメラがぼやけている

## 履歴の管理

### 履歴一覧画面

履歴画面には以下の情報が表示されます：

```
[QRコードの内容]
[スキャン日付] [スキャン時刻] 📝
```

- 📝アイコンはメモが添付されていることを示します
- 日付は新しい順に並んでいます

### 履歴の操作

#### QRコードを削除する

**方法1: スワイプで削除**
1. 削除したいQRコードを左にスワイプ
2. 赤い「Delete」ボタンをタップ

**方法2: 編集モードで削除**
1. 画面右上の「Edit」ボタンをタップ
2. 削除したいQRコードの左側の ⊖ をタップ
3. 「Delete」ボタンをタップ
4. 「Done」をタップして編集モード終了

#### 複数のQRコードを削除する

1. 「Edit」ボタンをタップ
2. 削除したいQRコードを複数選択
3. 各項目の「Delete」をタップ
4. 「Done」をタップ

## 詳細画面の使い方

履歴からQRコードをタップすると詳細画面が開きます。

### 詳細画面の構成

#### 📄 内容セクション
- QRコードの内容が表示されます
- テキストを長押しして選択・コピー可能
- 「内容をコピー」ボタンでクリップボードにコピー

#### 📅 スキャン日時セクション
- スキャンした日付と時刻が表示されます

#### 📝 メモセクション
- 自由にメモを入力できます
- 複数行のテキストが入力可能
- 保存ボタンをタップするまで反映されません

#### 🔗 アクションセクション（URLの場合）
QRコードがURLを含む場合のみ表示されます：
- 「URLを開く」ボタンでSafariが起動します

### 詳細画面の操作

#### メモを追加・編集する

1. メモセクションをタップ
2. キーボードでテキストを入力
3. 画面右上の「保存」をタップ

#### 内容をコピーする

1. 「内容をコピー」ボタンをタップ
2. 「コピーしました」のアラートが表示されます
3. 他のアプリでペースト（貼り付け）可能

#### URLを開く

1. 「URLを開く」ボタンをタップ
2. Safariでウェブページが開きます

#### 詳細画面を閉じる

- 画面左上の「キャンセル」をタップ
- または、画面を下にスワイプ

## データについて

### データの保存先

すべてのQRコードデータは以下の形式でデバイスに保存されます：

- **保存場所**: デバイスのローカルストレージ（Core Data）
- **データ内容**: 
  - QRコードの内容
  - スキャン日時
  - メモ（任意）

### データのバックアップ

QRコードデータはiOSのバックアップに含まれます：

- **iCloudバックアップ**: iCloudにバックアップされる場合に含まれます
- **iTunesバックアップ**: PCへのバックアップに含まれます
- **機種変更**: 新しいデバイスにバックアップを復元すると、データも復元されます

### データのプライバシー

- ✅ すべてのデータはデバイス内に保存
- ✅ インターネット接続不要
- ✅ 外部サーバーへのデータ送信なし
- ✅ 第三者とのデータ共有なし

## トラブルシューティング

### よくある問題と解決方法

#### 問題: カメラが真っ黒で何も映らない

**解決方法1**: カメラ権限を確認
1. iOSの「設定」を開く
2. 下にスクロールして「QRCodeScanner」を選択
3. 「カメラ」がオンになっているか確認
4. オフの場合はオンにする
5. アプリを再起動

**解決方法2**: アプリを再起動
1. アプリを完全に終了（ホーム画面で上にスワイプ）
2. アプリを再度起動

#### 問題: QRコードが読み取れない

**解決方法1**: 照明を確認
- より明るい場所に移動
- QRコードに直接光を当てる

**解決方法2**: QRコードの状態を確認
- QRコードが破損していないか
- 印刷が鮮明か
- 汚れや折れ曲がりがないか

**解決方法3**: カメラの距離を調整
- 近すぎる場合: 少し離す（10cm以上）
- 遠すぎる場合: 近づける（50cm以内）

**解決方法4**: カメラのフォーカス
- QRコードをタップしてフォーカスを合わせる
- カメラを静止させる

#### 問題: スキャンしたQRコードが保存されない

**解決方法1**: ストレージを確認
1. iOSの「設定」→「一般」→「iPhoneストレージ」
2. 空き容量を確認
3. 容量が少ない場合は不要なファイルを削除

**解決方法2**: アプリを再起動
1. アプリを完全に終了
2. デバイスを再起動
3. アプリを再度起動

#### 問題: 履歴が表示されない

**解決方法**: データベースをリセット
1. アプリを削除
2. デバイスを再起動
3. アプリを再インストール

**注意**: この方法はすべてのデータが削除されます

## よくある質問（FAQ）

### Q1: インターネット接続は必要ですか？
**A**: いいえ、必要ありません。すべての機能がオフラインで動作します。

### Q2: 何個までQRコードを保存できますか？
**A**: デバイスのストレージ容量が許す限り、制限はありません。

### Q3: 保存したQRコードを他の人と共有できますか？
**A**: 現在のバージョンでは共有機能はありません。詳細画面から内容をコピーして、メッセージなどで送信できます。

### Q4: バーコードもスキャンできますか？
**A**: いいえ、このアプリはQRコード専用です。

### Q5: カメラが起動しないシミュレーターで動作しますか？
**A**: いいえ、カメラ機能を使用するため実機でのみ動作します。

### Q6: 暗い場所でスキャンできますか？
**A**: iPhoneのフラッシュライトをオンにすると、暗い場所でもスキャンしやすくなります。

### Q7: 複数のQRコードを一度にスキャンできますか？
**A**: 現在のバージョンでは1つずつスキャンする必要があります。

### Q8: データをエクスポートできますか？
**A**: 現在のバージョンではエクスポート機能はありません。今後のアップデートで追加予定です。

## ヒントとテクニック

### 💡 効率的な使い方

1. **メモ機能を活用**
   - QRコードの用途や場所をメモに記入
   - 後で探しやすくなります

2. **URLの自動検出**
   - URLを含むQRコードは自動的に検出
   - ワンタップでウェブサイトを開けます

3. **コピー機能の活用**
   - スキャンした内容を他のアプリで使用
   - メール、メッセージ、メモアプリなどに貼り付け

4. **定期的な整理**
   - 不要なQRコードは定期的に削除
   - アプリの動作が快適に保たれます

### 🎯 推奨される使用シーン

- **イベント参加**: チケットQRコードの管理
- **製品管理**: 製品情報QRコードの保存
- **名刺交換**: QRコード付き名刺の情報保存
- **ドキュメント管理**: 文書のQRコード追跡
- **Wi-Fi接続**: Wi-Fi設定QRコードの保存

---

その他の質問や問題がある場合は、アプリ開発者にお問い合わせください。
